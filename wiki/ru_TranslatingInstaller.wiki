#summary Локализация инсталлятора

Сейчас локализация не может быть применена к инсталлятору без перекомпиляции. Поэтому локализация происходит следующим образом: вы берёте файлы с исходным кодом, переводите, отправляете мне. Я смотрю перевод, добавляю его в проект и создаю новый инсталлятор. Если уже доступен перевод на тот же язык интерфейса программы, я выкладываю новую версию keyla.

==== 1. Подготовка ====

Во-первых, скачайте [http://keyla.googlecode.com/svn-history/r34/trunk/NSIS%20installer/keyla.nsi скрипт NSIS]. Во-вторых, выберите файл локализованных строк из [http://code.google.com/p/keyla/source/browse/trunk/?r=34#trunk/NSIS%20installer/languages папки languages] с переводом, на который хотите опираться, создавая свой. Скачайте его, нажав на ссылку с названием файла, а затем - на ссылку с надписью "View raw file" в правой части страницы.

==== 2. Добавление языка ====

Инструкция добавления языка имеет вид

`!insertmacro MUI_LANGUAGE "<Язык>"`,

где `<Язык>` - английское название языка. Все инструкции собраны в список в скрипте NSIS. Их легко найти, используя поиск по `MUI_LANGUAGE`. Добавьте в конец списка инструкцию, соответствующую вашему языку. Например:

`!insertmacro MUI_LANGUAGE "Ukrainian"`

==== 3. Включение файла локализованных строк ====

Вначале переименуйте скачанный файл локализованных строк по названию вашего языка. Например, файл для украинского языка должен называться "ukrainian.nsh".

Инструкции включения имеют вид

`!include "<путь-к-файлу>"`

Все они собраны в список в скрипте NSIS. Их легко найти, используя поиск по `english.nsh`. Добавьте в конец списка инструкцию для вашего файла локализованных строк. Например, 

`!include "languages\ukrainian.nsh"`

==== 4. Информация о версии ====

Информация о версии располагается в скрипте NSIS под комментарием

`; Languages`

Элементы информации о версии добавляются с помощью инструкций `ViAddVersionKey`. Они сгруппированы по языку. Скопируйте любую группу в конец списка и измените её. 

Во-первых, поправьте в инструкциях константу вида `${LANG_ЯЗЫК}`. Например, если переводите на украинский, надо использовать `${LANG_UKRAINIAN}`.

Во-вторых, переведите инструкции. Если в инструкции указаны две строки, то переводить следует вторую. Другие строки переводить не надо.

==== 5. Перевод файла локализованных строк ====

Следует аналогичным образом поменять константу `${LANG_ЯЗЫК}` и перевести все строки.

==== 6. Отправка результатов ====

[http://code.google.com/p/keyla/issues/entry Напишите Issue] и вложите все файлы. Если у вас нет аккаунта Google, в порядке исключения можете отправить файлы мне по почте с темой "Keyla localization" (earshinov собака gmail точка com).

Можете сложить все файлы в архив, если вам так удобнее. Раскладывать файлы по папкам необязательно. 
